<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>wc-factory | onsubmit</title>
  </head>
  <body>
    <script type="module" src="/src/main.ts"></script>

    <h1>wc-factory</h1>
    <wc-factory #mode="open">
      <template id="lorem-ipsum">
        <p>Lorem ipsum dolor sit amet</p>
      </template>
      <template id="nerf-herder-ipsum">
        <p>Jar jar binks blaster kylo ren</p>
      </template>
      <wc #name="default-generator" #template="lorem-ipsum"></wc>
      <wc #name="custom-generator" #template="lorem-ipsum">
        <template id="lorem-ipsum">
          <p>Faucibus vitae aliquet nec ullamcorper</p>
        </template>
      </wc>
      <wc #name="nerf-herder-generator" #template="nerf-herder-ipsum"></wc>
      <wc
        #name="my-button"
        #mode="closed"
        text="Default value for button"
        alert="Default value for alert"
      >
        <button onclick="alert('{alert}')">{text}</button>
        <script type="lifecycle" callback="connected">
          function connectedCallback() {
            console.log('connectedCallback');
          }
        </script>
        <script type="lifecycle" callback="disconnected">
          function disconnectedCallback() {
            console.log('disconnectedCallback');
          }
        </script>
        <script type="lifecycle" callback="adopted">
          function adoptedCallback() {
            console.log('adoptedCallback');
          }
        </script>
        <script type="lifecycle" callback="attributeChanged">
          function attributeChangedCallback(name, oldValue, newValue) {
            console.log('attributeChangedCallback');
            console.debug('name:', name);
            console.debug('oldValue:', oldValue);
            console.debug('newValue:', newValue);
          }
        </script>
      </wc>
      <wc #name="my-paragraph" text="Hello world">
        <p>{text}</p>
      </wc>
      <wc #name="my-collection">
        <my-paragraph text="My name is Andy!"></my-paragraph>
        <my-paragraph text="It's nice to meet you."></my-paragraph>
        <my-paragraph text="I hope you have a great day!"></my-paragraph>
      </wc>
    </wc-factory>
    <my-paragraph id="p"></my-paragraph>
    <my-button text="Click me!"></my-button>
    <my-collection></my-collection>
    <welcome-message text="Welcome, friend!"></welcome-message>
    <default-generator></default-generator>
    <custom-generator></custom-generator>
    <nerf-herder-generator></nerf-herder-generator>
    <script>
      setTimeout(() => {
        const myButton = document.querySelector('my-button');
        myButton.setAttribute('text', 'Cmon, click me!');
        myButton.setAttribute('alert', 'Thank you for clicking me!');
      }, 3000);
    </script>
    <script type="module">
      import { WebComponentFactory } from '/src/index.ts';

      const span = document.createElement('span');
      span.textContent = '{text}';

      new WebComponentFactory()
        .getComponentBuilder('welcome-message')
        .setMode('open')
        .setAttribute('text', 'Default message')
        .setLifecycleCallback('connected', () => console.log('ðŸ‘‹'))
        .setTemplateElement(span)
        .build();
    </script>
  </body>
</html>
